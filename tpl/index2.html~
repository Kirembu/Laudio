{% extends 'base.html' %}

{% block title %}LAudio - Local Music Collection{% endblock %}
{% block controls %}
    <li onclick="playSong()" class="controls"><a id="playButton" href="#">Play</a></li>
    <li onclick="nextSong()" class="controls"><a href="#">Next</a></li>
    <li onclick="prevSong()" class="controls"><a href="#">Previous</a></li>
{% endblock %}
{% block content %}
        
        <span id="songId">row1</span>     
        <audio id="player" src="/laudio/media/audio{{firstsong}}" controls="controls"></audio>
       <div class="collectionHeader">
            <ul>
                <!-- /laudio/quickscan -->
            
                <li><a href="/laudio/">Collection: </a></li>
                <li><a href="#" onclick="confirmAction('Depending on your collection this may take some time. ' +
                 'Do you reall want to scan your library?', '/laudio/quick_scan')">Scan</a></li>
                <li><a href="#" onclick="confirmAction('Do you really want to complete delete your database?', 
                                                       '/laudio/reset_collection')">Reset Collection</a></li>
            </ul>
        </div>
        <div class="collectionHeader">
            <ul>
                {% for i in letters %}
                    {% ifequal i letter %}
                        <li style="background-color: #800000;"><a href="/laudio/artist/{{i}}/">{{i}}</a></li>
                    {% else %}
                        <li><a href="/laudio/artist/{{i}}/">{{i}}</a></li>
                    {% endifequal %}
                {% endfor %}
            </ul>
        </div>        
        <table id="collection" cellspacing="0">
            <tr id="row0">
                <th class="collNr">Nr</th>
                <th class="collTitle">Title</th>
                <th class="collArtist">Artist</th>
                <th class="collAlbum">Album</th>
                <th class="collGenre">Genre</th>
                <th class="collDownload">Download</th>
            </tr>
        {% for song in songs %}
            <tr id="row{{forloop.counter}}" class="{% cycle 'line1' 'line2'%}" 
                ondblclick='changeSong("row{{forloop.counter}}")'>
                <td>{{song.tracknumber}}</td>
                <td>{{song.title}}</td>
                <td>{{song.artist}}</td>
                <td>{{song.album}}</td>
                <td>{{song.genre}}</td>
                <td><a href="/laudio/media/audio{{song.path}}">Download</a></td>
            </tr>
        {% endfor %}
        </table>
    
{% endblock %}
